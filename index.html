<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Expert Truth Detector</title>
    <style>
        body { background: #000; color: #ffbf00; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; transition: background 0.5s; }
        #p-wrap { width: 80%; height: 6px; background: #222; border-radius: 10px; margin-bottom: 30px; overflow: hidden; }
        #p-bar { width: 0%; height: 100%; background: #ffbf00; box-shadow: 0 0 15px #ffbf00; transition: 0.4s; }
        #status { font-size: 1.1rem; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 40px; text-align: center; min-height: 60px; padding: 0 20px; line-height: 1.4; }
        .amber-btn {
            width: 85%; height: 85px; background: #111; color: #ffbf00; border: 3px solid #ffbf00;
            border-radius: 20px; font-size: 1.3rem; font-weight: 900;
            box-shadow: 0 0 5px rgba(255,191,0,0.2); transition: all 0.1s;
            -webkit-tap-highlight-color: transparent; outline: none; opacity: 0.3; pointer-events: none;
        }
        .amber-btn.active-ready { opacity: 1; pointer-events: auto; }
        .amber-btn:active {
            transform: scale(0.96); background: #221a00;
            box-shadow: 0 0 50px #ffbf00, inset 0 0 20px #ffbf00;
        }
    </style>
</head>
<body>

    <div id="p-wrap"><div id="p-bar"></div></div>
    <div id="status">INITIALIZING...</div>
    <button id="scanBtn" class="amber-btn">HOLD TO ANSWER</button>

    <script>
        const btn = document.getElementById('scanBtn');
        const bar = document.getElementById('p-bar');
        const status = document.getElementById('status');
        const alarmSound = new Audio('https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg');

        const introPhrases = [
            "DO NOT ATTEMPT TO LIE...",
            "I AM AN EXPERT AT DETECTING HUMAN LIES.",
            "MEASURING BASELINE BIOMETRICS..."
        ];

        const questions = [
            "Is it 2026?", "Are you holding a phone?", "Is the sky blue?",
            "Do you like pizza?", "Are you tired?", "Is it cold?",
            "Do you like music?", "Is your name correct?", 
            "ARE YOU HIDING SOMETHING?", "DID YOU JUST LIE?"
        ];

        let qCount = 0;
        let introIdx = 0;

        function runIntro() {
            if (introIdx < introPhrases.length) {
                status.innerText = introPhrases[introIdx];
                window.navigator.vibrate([100, 50, 100]); 
                introIdx++;
                setTimeout(runIntro, 3500);
            } else {
                status.innerText = "READY. HOLD BUTTON TO BEGIN.";
                btn.classList.add('active-ready');
            }
        }

        window.onload = runIntro;

        btn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (qCount < questions.length) {
                status.innerText = questions[qCount];
                window.navigator.vibrate(40);
            }
        });

        btn.addEventListener('touchend', () => {
            qCount++;
            bar.style.width = (qCount * 10) + "%";
            
            if (qCount === 10) {
                status.innerText = "ANALYZING FINAL TRUTH...";
                btn.style.display = "none";
                setTimeout(triggerLiarAlarm, 3000);
            } else {
                status.innerText = "RELEASED. PREPARE FOR NEXT.";
            }
        });

        function triggerLiarAlarm() {
            alarmSound.play();
            status.innerText = "LIAR DETECTED!";
            let strobeCount = 0;
            const strobe = setInterval(() => {
                document.body.style.background = (strobeCount % 2 === 0) ? "#FFBF00" : "#550000";
                window.navigator.vibrate(200);
                strobeCount++;
                if (strobeCount > 10) {
                    clearInterval(strobe);
                    document.body.style.background = "#550000";
                }
            }, 150);
        }
    </script>
</body>
</html>
