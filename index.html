let startTime = 0;
let honestScore = 0;
let delayProfile = { truth: 0, lie: 0 };

// The "Mix" Module: Delay + Voice + Tremor
function processResponse(vocalPitch, currentTremor) {
    let responseDelay = (Date.now() - startTime) / 1000; // Time in seconds
    
    if (qCount <= 8) {
        // Build the "Honesty Profile"
        delayProfile.truth += responseDelay / 8; 
    } else {
        // Apply your logic: Check for significant deviation from the baseline delay
        let delayDeviation = responseDelay / delayProfile.truth;

        if (delayDeviation > 2.5) { // If they take 2.5x longer than usual
            analyzeDeepDeception(responseDelay, vocalPitch);
        }
    }
}

// Logic for your specific questions
const questions = [
    "Is it daytime?", // Measuring thinking delay
    "Is the button Amber?", // Measuring visual delay
    "Is your name correct?",
    "HAVE YOU EVER STOLEN?", // The Deception Baseline (We track the 9s delay)
    "WERE YOU TRUTHFUL JUST NOW?", // Honesty Check
    "DO YOU HAVE A SECRET?" // Vague probe
];
